<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from meldog_core.urdf.xacro         | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="meldog_core">
  <!-- Macro for defining a link, please ensure that 
    the visual and collision models coordinate 
    systems are placed in joints -->
  <!-- inertial properties -->
  <!-- inertial properties -->
  <!-- inertial properties -->
  <!-- inertial properties -->
  <!-- If using gazebo link parameters -->
  <gazebo reference="trunk_link">
    <visual>
      <material>
        <diffuse>0 0 1 1 </diffuse>
      </material>
    </visual>
    <mu1 value="0"/>
    <mu2 value="0"/>
    <kp value="0"/>
    <kd value="0"/>
    <maxVel value="0"/>
    <dampingFactor value="0"/>
  </gazebo>
  <gazebo reference="LRH_link">
    <visual>
      <material>
        <diffuse>0 0 1 1 </diffuse>
      </material>
    </visual>
    <mu1 value="0"/>
    <mu2 value="0"/>
    <kp value="0"/>
    <kd value="0"/>
    <maxVel value="0"/>
    <dampingFactor value="0"/>
  </gazebo>
  <gazebo reference="LRUL_link">
    <visual>
      <material>
        <diffuse>0 0 1 1 </diffuse>
      </material>
    </visual>
    <mu1 value="0"/>
    <mu2 value="0"/>
    <kp value="0"/>
    <kd value="0"/>
    <maxVel value="0"/>
    <dampingFactor value="0"/>
  </gazebo>
  <gazebo reference="LRLL_link">
    <visual>
      <material>
        <diffuse>0 0 1 1 </diffuse>
      </material>
    </visual>
    <mu1 value="0"/>
    <mu2 value="0"/>
    <kp value="0"/>
    <kd value="0"/>
    <maxVel value="0"/>
    <dampingFactor value="0"/>
  </gazebo>
  <gazebo reference="LRF_link">
    <visual>
      <material>
        <diffuse>0 0 1 1 </diffuse>
      </material>
    </visual>
    <mu1 value="0"/>
    <mu2 value="0"/>
    <kp value="0"/>
    <kd value="0"/>
    <maxVel value="0"/>
    <dampingFactor value="0"/>
  </gazebo>
  <!-- if using gazebo joint parameters -->
  <gazebo reference="LRT_joint">
    <implicitSpringDamper>0</implicitSpringDamper>
    <springStiffness>0</springStiffness>
    <springReference>0</springReference>
    <stopErp>0</stopErp>
    <stopCfm>0</stopCfm>
  </gazebo>
  <gazebo reference="LRH_joint">
    <implicitSpringDamper>0</implicitSpringDamper>
    <springStiffness>0</springStiffness>
    <springReference>0</springReference>
    <stopErp>0</stopErp>
    <stopCfm>0</stopCfm>
  </gazebo>
  <gazebo reference="LRK_joint">
    <implicitSpringDamper>0</implicitSpringDamper>
    <springStiffness>0</springStiffness>
    <springReference>0</springReference>
    <stopErp>0</stopErp>
    <stopCfm>0</stopCfm>
  </gazebo>
  <ros2_control name="IgnitionSystem" type="system">
    <hardware>
      <plugin>ign_ros2_control/IgnitionSystem</plugin>
    </hardware>
    <!-- joints -->
    <joint name="LRT_joint">
      <!-- co jesli joint continuous? -->
      <command_interface name="position">
        <param name="min">-45</param>
        <param name="max">45</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-18.906274745776084</param>
        <param name="max">18.906274745776084</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-34.895</param>
        <param name="max">34.895</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="LRH_joint">
      <!-- co jesli joint continuous? -->
      <command_interface name="position">
        <param name="min">-120</param>
        <param name="max">120</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-18.906274745776084</param>
        <param name="max">18.906274745776084</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-34.895</param>
        <param name="max">34.895</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="LRK_joint">
      <!-- co jesli joint continuous? -->
      <command_interface name="position">
        <param name="min">-160</param>
        <param name="max">160</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-18.906274745776084</param>
        <param name="max">18.906274745776084</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-34.895</param>
        <param name="max">34.895</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <transmission name="FourBarLinkageTransmission_LRH_LRK">
      <plugin>transmission_interface/FourBarLinkageTransmission</plugin>
      <!-- <actuator name="${first_joint_name}_actuator" role="actuator1">
                <mechanical_reduction>${reduction}</mechanical_reduction>
            </actuator>
            <actuator name="${second_joint_name}_actuator" role="actuator2">
                <mechanical_reduction>${reduction}</mechanical_reduction>
            </actuator> -->
      <joint name="LRH_joint" role="joint1">
        <mechanical_reduction>1.0</mechanical_reduction>
        <offset>0.0</offset>
      </joint>
      <joint name="LRK_joint" role="joint2">
        <mechanical_reduction>1.0</mechanical_reduction>
        <offset>0.0</offset>
      </joint>
    </transmission>
  </ros2_control>
  <gazebo>
    <plugin filename="ign_ros2_control-system" name="ign_ros2_control::IgnitionROS2ControlPlugin">
      <!-- <robot_param>robot_description</robot_param>
          <robot_param_node>robot_state_publisher</robot_param_node> -->
      <parameters>/home/aleks/meldog_leg_description/meldog_leg_description/install/meldog_leg_description/share/meldog_leg_description/controllers/joint_controller.yaml</parameters>
      <!-- <hold_joints>true</hold_joints> -->
    </plugin>
  </gazebo>
  <!-- LINKS -->
  <link name="world"/>
  <!-- Base link -->
  <link name="base_link"/>
  <link name="trunk_link">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <mass value="0.001"/>
      <inertia ixx="1.6666666666666669e-06" ixy="0.0" ixz="0.0" iyy="1.6666666666666669e-06" iyz=".0" izz="1.6666666666666669e-06"/>
    </inertial>
    <visual name="trunk_base_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </visual>
    <collision name="trunk_base_collision">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
    </collision>
  </link>
  <!-- Left rear leg links -->
  <link name="LRH_link">
    <visual>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/visual/rear_left_hip.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/collision/rear_left_hip_collision.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="2.276"/>
      <origin rpy="0 0 0" xyz="-0.126369 0.014728999999999999 0.00016"/>
      <inertia ixx="0.003609753" ixy="0.00037116699999999994" ixz="-5.5e-07" iyy="0.008775172" iyz="1.7541e-05" izz="0.009362116"/>
    </inertial>
  </link>
  <link name="LRUL_link">
    <visual>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/visual/upper_limb_test.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/collision/upper_limb_collision.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.474"/>
      <origin rpy="0 0 0" xyz="0.001185 -0.004308 -0.09420300000000001"/>
      <inertia ixx="0.0040645049999999995" ixy="-1.241e-06" ixz="-1.9989e-05" iyy="0.00415005" iyz="0.00023564799999999998" izz="0.00042455499999999996"/>
    </inertial>
  </link>
  <link name="LRLL_link">
    <visual>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/visual/LL_vis_v2.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/collision/lower_limb_collision.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.079"/>
      <origin rpy="0 0 0" xyz="-0.0008010000000000001 0.0 -0.13983600000000002"/>
      <inertia ixx="0.0005982219999999999" ixy="-0.0" ixz="2.447e-06" iyy="0.0006030879999999999" iyz="0.0" izz="1.3771e-05"/>
    </inertial>
  </link>
  <link name="LRF_link">
    <visual>
      <geometry>
        <mesh filename="package://meldog_leg_description/meshes/visual/foot_vis.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.035"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.037"/>
      <origin rpy="0 0 0" xyz="-0.0 0.0 -0.008417"/>
      <inertia ixx="1.4919e-05" ixy="-0.0" ixz="-0.0" iyy="2.5291e-05" iyz="0.0" izz="2.3389999999999998e-05"/>
    </inertial>
  </link>
  <!-- JOINTS -->
  <joint name="base_joint" type="fixed">
    <parent link="base_link"/>
    <child link="trunk_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.6"/>
  </joint>
  <joint name="world_fixed_joint" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
  </joint>
  <!-- Left rear leg joints -->
  <joint name="LRT_joint" type="revolute">
    <parent link="trunk_link"/>
    <child link="LRH_link"/>
    <origin rpy="0 0 0" xyz="-0.05 0 0"/>
    <limit effort="34.895" lower="-0.7853981633974483" upper="0.7853981633974483" velocity="18.906274745776084"/>
    <axis xyz="1 0 0"/>
  </joint>
  <joint name="LRH_joint" type="revolute">
    <parent link="LRH_link"/>
    <child link="LRUL_link"/>
    <origin rpy="0 0 0" xyz="-0.174                      0.0925                      0"/>
    <limit effort="34.895" lower="-2.0943951023931953" upper="2.0943951023931953" velocity="18.906274745776084"/>
    <axis xyz="0 -1 0"/>
  </joint>
  <joint name="LRK_joint" type="revolute">
    <parent link="LRUL_link"/>
    <child link="LRLL_link"/>
    <origin rpy="0 0 0" xyz="0 0 -0.25"/>
    <limit effort="34.895" lower="-2.792526803190927" upper="2.792526803190927" velocity="18.906274745776084"/>
    <axis xyz="0 -1 0"/>
  </joint>
  <joint name="LRF_joint" type="fixed">
    <parent link="LRLL_link"/>
    <child link="LRF_link"/>
    <origin rpy="0 0 0" xyz="0 0 -0.25"/>
  </joint>
</robot>
